<ion-header>
<ion-navbar padding>
  <ion-buttons left (click)="closeModal()">
    <button ion-button icon-only>
      <ion-icon  name="arrow-back"></ion-icon>
    </button>
  </ion-buttons>
  <ion-title style="display: inline-block;margin-top: 7px;">Candidate Details</ion-title>

  <div class="optionsLD" style="float: right;" *ngIf="candidateDetails?.ShowMobile">
    <img *ngIf="candidateDetails?.AlowReport == undefined || candidateDetails?.AlowReport; else reported_icon" (click)="addReport()" src="assets/imgs/icon-report.svg" style="width:30px">
    <ng-template #reported_icon>
      <img src="assets/imgs/icon-reported.svg" style="width:30px">
    </ng-template>

    <span *ngIf="candidateDetails?.LikeStatus == undefined">
                        <img  start style="width:30px" (click)="myLikesDislikes('no')" src="assets/imgs/icon-dislike-d.svg"  />
                        <img  start style="width:30px" (click)="myLikesDislikes('yes')" src="assets/imgs/icon-like-d.svg"  />
                     </span>

    <span  *ngIf="candidateDetails?.LikeStatus == 'yes'">
                       <img  (click)="myLikesDislikes('no')" start style="width:30px" src="assets/imgs/icon-dislike-d.svg" />
                       <img start  style="width:30px" src="assets/imgs/icon-like-a.svg" />
                     </span>
    <span *ngIf="candidateDetails?.LikeStatus == 'no'">
                       <img  start style="width:30px" src="assets/imgs/icon-dislike-a.svg"/>
                       <img  start style="width:30px" (click)="myLikesDislikes('yes')" src="assets/imgs/icon-like-d.svg"  />
                     </span>
  </div>


</ion-navbar>
</ion-header>


<ion-content padding>
  <span class="reg-update" *ngIf="candidateDetails?.ID">
    <!--Reg date-->
    <div class="reg-date" *ngIf="candidateDetails.Reg_Date">
             <span style="font-size: x-small;">
               Reg On:<span style="color:#11AD6E; font-size: x-small;margin-left: 4px;">{{candidateDetails.Reg_Date | date: 'dd MMM yyyy'}}</span>
             </span>
    </div>
    <!--Last update-->
    <div class="update-date" *ngIf="candidateDetails.Last_Update">
             <span style="font-size:x-small;">
               Last Seen:<span style="color:#11AD6E; font-size:x-small;margin-left: 4px;">{{candidateDetails.Last_Update | amTimeAgo }}</span>
             </span>
    </div>
  </span>
  <div class="main-box" *ngIf="candidateDetails?.ID">
    <ion-item no-padding no-lines>
      <ion-thumbnail item-start no-padding>
        <img *ngIf="candidateDetails.Image" src="https://hoteljobber.com/user_image/{{candidateDetails?.Image}}">
        <img *ngIf="!candidateDetails.Image" src="assets/imgs/default-profile-pic.svg">
        <div class="id">ID - {{candidateDetails?.ID}}</div>
      </ion-thumbnail>
 <!--Candidate name-->
      <div class="name-box">
        <span class="name">{{candidateDetails?.FirstName}}</span>
        <span class="name" *ngIf="candidateDetails.ShowMobile else hide">{{candidateDetails?.LastName}}</span>
        <ng-template class="name"  #hide>{{candidateDetails?.LastName.charAt(0)}}</ng-template>

        <span style="display: inline-block" *ngIf="candidateDetails.Active_status==1">
          <img  style="width:20px;height: 15px;" src="assets/imgs/icon-sbulb-on.svg" />
        </span>
        <span style="display: inline-block" *ngIf="candidateDetails.Active_status==0">
          <img  style="width:20px;height: 15px" src="assets/imgs/icon-sbulb-off.svg" />
        </span>
        <!--Candidate roll-->
        <div class="job-roll" *ngIf="candidateDetails?.Roll">
          {{candidateDetails?.Roll}}
        </div>
      </div>

 <!--Exp-->
      <div class="exp-group">
        <div>
          <span class="exp-group-title">Exp:</span>
          <span class="exp-group-value" *ngIf="candidateDetails?.Experience > 0">{{candidateDetails?.Experience}} Yrs</span>
          <span class="exp-group-value" *ngIf="candidateDetails?.Experience <= 0">Fresher</span>
        </div>

        <div>
          <span class="exp-group-title">Sal Exp:</span>
          <span class="exp-group-value"> {{candidateDetails?.MinSalary | currency:'INR':true:'1.0-1'}} - {{( ((candidateDetails?.MaxSalary === 123))? candidateDetails.MaxSalary : (candidateDetails?.MinSalary+5000))| currency:'INR':true:'1.0-1'}}</span>
        </div>

        <div>
          <span class="exp-group-title">Preferred Location:</span>
          <span class="exp-group-value">
            <span  *ngIf="candidateDetails?.P_City_Name">{{candidateDetails?.P_City_Name}} </span>
            <span  *ngIf="candidateDetails?.P_Country_Name">Anywhere in {{candidateDetails?.P_Country_Name}} </span>
            <span  *ngIf="candidateDetails?.P_State_Name">Anywhere in {{candidateDetails?.P_State_Name}} </span>
          </span>
        </div>

      </div>
    </ion-item>
<!--Buttons-->
    <ion-grid no-padding>
      <ion-row text-center no-padding>
        <ion-col col-4 no-padding>
          <div class="unlock-img" *ngIf="!candidateDetails.ShowMobile; else show"  (click)="displayContact(candidateDetails.ID)">
            <img src="assets/imgs/icon-unlock.svg">
          </div>
          <ng-template #show>
            <div  class="show-contact" (click)="callJoint(candidateDetails.Mobile)">
              <img  src="assets/imgs/icon-call1.svg" />
              <span style="font-size: 10px;text-align: center; ">{{candidateDetails.Mobile}}</span>
            </div>
          </ng-template>
        </ion-col>
        <ion-col col-4 no-padding>
          <!--Whats app-->
          <a  *ngIf="candidateDetails.ShowMobile" [href]="getWtsApp(candidateDetails.Mobile)"><img  class="wts-sms-img" src="assets/imgs/wtsApp.png" ></a>
        </ion-col>
        <ion-col col-4 no-padding>
          <!--SMS-->
          <span *ngIf="candidateDetails.ShowMobile" style="float: left;">
             <img class="wts-sms-img" *ngIf='!candidateDetails.SmsSend else SmsSend'  src="./assets/imgs/smsApp.png" (click)="sendMsg()" />
             <ng-template #SmsSend>
               <img  class="wts-sms-img"  src="./assets/imgs/sent-sms.png" />
             </ng-template>
          </span>

        </ion-col>
      </ion-row>
    </ion-grid>

<!--Extra info-->
  <div class="extra-info">
      <div>
        <span class="exp-group-title">Experience:</span>
        <span class="exp-group-value" *ngIf="candidateDetails?.Experience > 0; else frshr ">{{candidateDetails?.Experience}} Years</span>
        <ng-template class="exp-group-value" #frshr>Fresher</ng-template>
      </div>

      <div>
        <span class="exp-group-title">Age:</span>
        <span class="exp-group-value">{{candidateDetails?.Age}} Years</span>
      </div>

      <div>
        <span class="exp-group-title">Gender:</span>
        <span class="exp-group-value">{{candidateDetails?.Gender}}</span>
      </div>

      <div *ngIf="candidateDetails?.Marital_Status">
        <span class="exp-group-title">Marital Status:</span>
        <span class="exp-group-value">{{candidateDetails?.Marital_Status}}</span>
      </div>

      <div *ngIf="candidateDetails?.MinSalary">
        <span class="exp-group-title">Salary Expectation:</span>
        <span class="exp-group-value"> {{candidateDetails?.MinSalary | currency:'INR':true:'1.0-1'}} - {{( ((candidateDetails?.MaxSalary === 123))? candidateDetails.MaxSalary : (candidateDetails?.MinSalary+5000))| currency:'INR':true:'1.0-1'}}</span>
      </div>

      <div>
        <span class="exp-group-title">Email ID:</span>
        <ion-icon *ngIf="!candidateDetails?.ShowMobile" style="padding-right: 2px;" name="lock" small> </ion-icon>
        <span *ngIf="candidateDetails?.ShowMobile">
          <span *ngIf="candidateDetails?.Email_ID; else noEmail;" class="exp-group-value">{{candidateDetails?.Email_ID}}</span>
          <ng-template class="exp-group-value" #noEmail>Not Mentioned</ng-template>
        </span>
      </div>

      <div *ngIf="candidateDetails?.Education">
        <span class="exp-group-title">Education:</span>
        <span class="exp-group-value">{{candidateDetails?.Education}}</span>
      </div>

      <div *ngIf="candidateDetails?.Country_Name">
        <span class="exp-group-title">Location:</span>
        <span class="exp-group-value" *ngIf="candidateDetails?.City_Name;">
            <span style="font-weight:bold">{{candidateDetails?.City_Name}}, </span>
            <span style="font-weight:bold">{{candidateDetails?.State_Name}}, </span>
            <span style="font-weight:bold">{{candidateDetails?.Country_Name}}</span>
            <i class="flag-icon flag-icon-{{candidateDetails?.CountryFlag.toLowerCase()}}"></i>
        </span>
      </div>

      <div>
        <span class="exp-group-title">Preferred Location:</span>
        <span class="exp-group-value">
              <span  *ngIf="candidateDetails?.P_City_Name">{{candidateDetails?.P_City_Name}} </span>
              <span  *ngIf="candidateDetails?.P_Country_Name">Anywhere in {{candidateDetails?.P_Country_Name}} </span>
              <span  *ngIf="candidateDetails?.P_State_Name">Anywhere in {{candidateDetails?.P_State_Name}} </span>
            </span>
      </div>

      <div>
        <span class="exp-group-title">Interested In Abroad Jobs:</span>
        <span class="exp-group-value" *ngIf="candidateDetails?.Abroad=='0'"> NO</span>
        <span class="exp-group-value" *ngIf="candidateDetails?.Abroad=='1'"> YES</span>
        <span class="exp-group-value" *ngIf="candidateDetails?.Abroad== null">Not Mentioned</span>
      </div>

      <div *ngIf="candidateDetails?.About_Exp.toString().trim()!=''">
        <!--<span class="work-exp" >{{candidateDetails?.About_Exp}}</span>-->
        <span *ngIf="candidateDetails?.About_Exp" style="display: block; line-height: 1.5;background:#ffffcc;padding: 4px 6px 4px 6px;margin-top:4px;border:1px solid #fff0cc" class="text-data">
          <span class="exp-group-title work-title">Work Experience <img src="assets/imgs/icon-s-exp.svg"  height="14px"></span>
          {{candidateDetails?.About_Exp}}</span>
      </div>

     </div>
  </div>

  <div *ngIf="candidateNotFound">
    <ion-card padding>
      <ion-card-content>
       <h4>{{candidateNotFound}}</h4>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
